---
tap: "google-analytics-360"
version: "1"
key: "sessions"

name: "ga_sessions"
doc-link: "https://support.google.com/analytics/answer/3437719?hl=en&ref_topic=3416089"
singer-schema: "https://github.com/singer-io/tap-ga360/blob/master/tap_ga360/schemas/ga_sessions.json"
description: "This table contains information about general Google Analytics sessions."

replication-method: "Key-based Incremental"

api-method:
    name: "BigQuery Export schema"
    doc-link: "https://support.google.com/analytics/answer/3437719?hl=en&ref_topic=3416089"

attributes:
  - name: "fullVisitorId"
    type: "string"
    primary-key: true
    description: "The unique visitor ID - also known as client ID."
    foreign-key-id: "full-visitor-id"

  - name: "visitId"
    type: "number"
    primary-key: true
    description: "An identifier for this session."
    foreign-key-id: "visit-id"

  - name: "visitStartTime"
    type: "number"
    primary-key: true
    description: "The timestamp expressed as POSIX time."
    foreign-key-id: "visit-start-time" 

  - name: "date"
    type: "date-time"
    description: "The date of the session in `YYYYMMDD` format. For more details about the replication process, refer to the [Replication section](#replication)."
    replication-key: true

  - name: "channelGrouping"
    type: "string"
    description: "The Default Channel Group associated with an end user's session for this View."

  - name: "clientId"
    type: "string"
    description: "Unhashed version of the Client ID for a given user associated with any given visit/session."

  - name: "customDimensions"
    type: "array"
    description: "This section contains any user-level or session-level custom dimensions that are set for a session. This is a repeated field and has an entry for each dimension that is set."
    subattributes:
      - name: "index"
        type: "number"
        description: "The index of the custom dimension."
      - name: "value"
        type: "string"
        description: "The value of the custom dimension."

  - name: "device"
    type: "object"
    description: "This section contains information about the user devices."
    subattributes:
      - name: "browser"
        type: "string"
        description: "The browser used."
      - name: "browserSize"
        type: "string"
        description: "The viewport size of users' browsers."
      - name: "browserVersion"
        type: "string"
        description: "The version of the browser used."
      - name: "deviceCategory"
        type: "string"
        description: "The type of device."
      - name: "flashVersion"
        type: "string"
        description: "The version of the Adobe Flash plugin that is installed on the browser."
      - name: "javaEnabled"
        type: "boolean"
        description: "Whether or not Java is enabled in the browser."
      - name: "language"
        type: "string"
        description: "The language the device is set to use expressed as the IETF language code."
      - name: "mobileDeviceBranding"
        type: "string"
        description: "The brand or manufacturer of the device."
      - name: "mobileDeviceInfo"
        type: "string"
        description: "The branding, model, and marketing name used to identify the mobile device."
      - name: "mobileDeviceMarketingName"
        type: "string"
        description: "The marketing name used for the mobile device."
      - name: "mobileDeviceModel"
        type: "string"
        description: "The mobile device model."
      - name: "mobileInputSelector"
        type: "string"
        description: "Selector (e.g., touchscreen, joystick, clickwheel, stylus) used on the mobile device."
      - name: "operatingSystem"
        type: "string"
        description: "The operating system of the device."
      - name: "operatingSystemVersion"
        type: "string"
        description: "The version of the operating system."
      - name: "screenColors"
        type: "string"
        description: "Number of colors supported by the display, expressed as the bit-depth."
      - name: "screenResolution"
        type: "string"
        description: "The resolution of the device's screen expressed in pixel width x height."

  - name: "geoNetwork"
    type: "object"
    description: "This section contains information about the geography of the user."
    subattributes:
      - name: "city"
        type: "string"
        description: "Users' city, derived from their IP addresses or Geographical IDs."
      - name: "cityId"
        type: "string"
        description: "Users' city ID, derived from their IP addresses or Geographical IDs."
      - name: "continent"
        type: "string"
        description: "The continent from which sessions originated, based on IP address."
      - name: "country"
        type: "string"
        description: "The country from which sessions originated, based on IP address."
      - name: "latitude"
        type: "string"
        description: "The approximate latitude of users' city, derived from their IP addresses or Geographical IDs."
      - name: "longitude"
        type: "string"
        description: "The approximate longitude of users' city, derived from their IP addresses or Geographical IDs."
      - name: "metro"
        type: "string"
        description: "The Designated Market Area (DMA) from which sessions originate."
      - name: "networkDomain"
        type: "string"
        description: "The domain name of user's ISP, derived from the domain name registered to the ISP's IP address. **Note**: This is no longer supported by Google BigQuery."
      - name: "networkLocation"
        type: "string"
        description: "The names of the service providers used to reach the property. **Note**: This is no longer supported by Google BigQuery."
      - name: "region"
        type: "string"
        description: "The region from which sessions originate, derived from IP addresses."
      - name: "subContinent"
        type: "string"
        description: "The sub-continent from which sessions originated, based on IP address of the visitor."

  - name: "socialEngagementType"
    type: "string"
    description: "Engagement type, either `Socially Engaged` or `Not Socially Engaged`."

  - name: "totals"
    type: "object"
    description: "This section contains aggregate values across the session."
    subattributes:
      - name: "bounces"
        type: "number"
        description: "The total bounced sessions. For a bounced session, the value is `1`, otherwise it is `null`."
      - name: "hits"
        type: "number"
        description: "Total number of hits within the session."
      - name: "newVisits"
        type: "number"
        description: "Total number of new users in session. If this is the first visit, this value is `1`, otherwise it is `null`."
      - name: "pageviews"
        type: "number"
        description: "Total number of pageviews within the session."
      - name: "screenviews"
        type: "number"
        description: "Total number of screenviews within the session."
      - name: "sessionQualityDim"
        type: "number"
        description: "An estimate of how close a particular session was to transacting, ranging from 1 to 100, calculated for each session. A value of 0 indicates that Session Quality is not calculated for the selected time range."
      - name: "timeOnScreen"
        type: "number"
        description: "The total time on screen in seconds."
      - name: "timeOnSite"
        type: "number"
        description: "Total time of the session expressed in seconds."
      - name: "totalTransactionRevenue"
        type: "number"
        description: "Total transaction revenue, expressed as the value passed to Analytics multiplied by 10^6."
      - name: "transactionRevenue"
        type: "number"
        description: "**Note**: This field is deprecated. Use **totalTransactionRevenue** instead."
      - name: "transactions"
        type: "number"
        description: "Total number of ecommerce transactions within the session."
      - name: "uniqueScreenViews"
        type: "number"
        description: "Total number of unique screenviews within the session."
      - name: "visits"
        type: "number"
        description: "The number of sessions. This value is `1` for sessions with interaction events. The value is `null` if there are no interaction events in the session."

  - name: "trafficSource"
    type: "object"
    description: "This section contains information about the traffic source from which the session originated."
    subattributes:
      - name: "adContent"
        type: "string"
        description: "The ad content of the traffic source."
      - name: "adwordsClickInfo"
        type: "object"
        description: "This section contains information about the Google Ads click info, if there is any, associated with the session."
        subattributes:
          - name: "adGroupId"
            type: "number"
            description: "The Google ad-group ID."
          - name: "adNetworkType"
            type: "string"
            description: "The network type. It can be one of the following values: `Google Search`, `Content`, `Search partners`, `Ad Exchange`, `Yahoo Japan Search`, `Yahoo Japan AFS`, `unknown`."
          - name: "campaignId"
            type: "number"
            description: "The Google Ads campaign ID."
          - name: "creativeId"
            type: "number"
            description: "The Google ad ID."
          - name: "criteriaId"
            type: "number"
            description: "The ID for the targeting criterion."
          - name: "criteriaParameters"
            type: "string"
            description: "Descriptive string for the targeting criterion."
          - name: "customerId"
            type: "number"
            description: "The Google Ads Customer ID."
          - name: "gclId"
            type: "string"
            description: "The Google Click ID."
          - name: "isVideoAd"
            type: "boolean"
            description: "True if it is a Trueview video ad."
          - name: "page"
            type: "number"
            description: "Page number in search results where the ad was shown."
          - name: "slot"
            type: "string"
            description: "The position of the ad. It can be one of the following values: `RHS`, `Top`."
          - name: "targetingCriteria"
            type: "object"
            description: "The Google Ads targeting criteria for a click."
            subattributes:
              - name: "boomUserlistId"
                type: "number"
                description: "The remarketing list ID, if any, in Google Ads, derived from `matching_criteria` in click record."
      - name: "campaign"
        type: "string"
        description: "The campaign value."
      - name: "campaignCode"
        type: "string"
        description: "Value of the `utm_id` campaign tracking parameter."
      - name: "isTrueDirect"
        type: "boolean"
        description: "`TRUE` if the source of the session was Direct. This field will also be `TRUE` if two successive but distinct sessions have exactly the same campaign details. Otherwise `NULL`."
      - name: "keyword"
        type: "string"
        description: "The keyword of the traffic source."
      - name: "medium"
        type: "string"
        description: "The medium of the traffic source."
      - name: "referralPath"
        type: "string"
        description: "If `trafficSource.medium` is `referral`, then this is set to the path of the referrer."
      - name: "source"
        type: "string"
        description: "The source of the traffic source."

  - name: "userId"
    type: "string"
    description: "Overridden User ID sent to Analytics."

  - name: "visitNumber"
    type: "number"
    description: "The session number for this user."
    
  - name: "visitorId"
    type: "number"
    description: "**Note**: This field is deprecated. Use `fullVisitorId` instead."
---

---
# -------------------------- #
#     USING THIS TEMPLATE    #
# -------------------------- #

## NEED HELP USING THIS TEMPLATE? SEE:
## https://docs-about-stitch-docs.netlify.com/reference/integration-templates/saas-foreign-keys/
## FOR INSTRUCTIONS & REFERENCE INFO

tap-reference: "eloqua"

version: "1"

foreign-keys:
  - id: "account-id"
    table: "accounts"
    attribute: "id"
    all-foreign-keys:
      - table: "accounts"
        join-on: "id"

  - id: "asset-id"
    table: "assets"
    attribute: "AssetId"
    all-foreign-keys:
      - table: "assets"
        join-on: "id"
      - table: "activity_bounceback"
      - table: "activity_email_clickthrough"
      - table: "activity_email_open"
      - table: "activity_email_send"
      - table: "activity_form_submit"
      - table: "activity_page_view"
      - table: "activity_subscribe"
      - table: "activity_unsubscribe"
      - table: "activity_web_visit"

  - id: "campaign-id"
    table: "campaigns"
    attribute: "CampaignId"
    all-foreign-keys:
      - table: "campaigns"
        join-on: "id"
      - table: "activity_bounceback"
      - table: "activity_email_clickthrough"
      - table: "activity_email_open"
      - table: "activity_email_send"
      - table: "activity_form_submit"
      - table: "activity_page_view"
      - table: "activity_subscribe"
      - table: "activity_unsubscribe"
      - table: "forms"
        subattribute: "processingSteps"
        join-on: "campaignId"

  - id: "contact-id"
    table: "contacts"
    attribute: "ContactId"
    all-foreign-keys:
      - table: "contacts"
        join-on: "id"
      - table: "activity_bounceback"
      - table: "activity_email_clickthrough"
      - table: "activity_email_open"
      - table: "activity_email_send"
      - table: "activity_form_submit"
      - table: "activity_page_view"
      - table: "activity_subscribe"
      - table: "activity_unsubscribe"
      - table: "visitors"
        join-on: "contactId"

  - id: "email-id"
    table: "emails"
    attribute: "emailId"
    all-foreign-keys:
      - table: "emails"
        join-on: "id"
      - table: "forms"
        subattribute: "processingSteps"

  - id: "email-footer-id"
    table: ""
    attribute: "emailFooterId"
    all-foreign-keys:
      - table: "email_groups"
      - table: "emails"

  - id: "email-header-id"
    table: ""
    attribute: "emailHeaderId"
    all-foreign-keys:
      - table: "email_groups"
      - table: "emails"

  - id: "folder-id"
    table: ""
    attribute: "folderId"
    all-foreign-keys:
      - table: "assets"
      - table: "campaigns"
      - table: "emails"
        subattribute: "dynamicContents"
      - table: "emails"
        subattribute: "hyperlinks"
      - table: "emails"
        subattribute: "images"
      - table: "forms"

  - id: "form-id"
    table: "forms"
    attribute: "id"
    all-foreign-keys:
      - table: "forms"
        join-on: "id"
      - table: "emails"
        subtable: "forms"

  - id: "user-id"
    table: ""
    attribute: ""
    all-foreign-keys:
      - table: "assets"
        join-on: "createdBy"
      - table: "assets"
        join-on: "updatedBy"
      - table: "campaigns"
        join-on: "createdBy"
      - table: "campaigns"
        join-on: "updatedBy"
      - table: "campaigns"
        join-on: "runAsUserId"
      - table: "emails"
        join-on: "createdBy"
      - table: "emails"
        subattribute: "dynamicContents"
        join-on: "createdBy"
      - table: "emails"
        subattribute: "dynamicContents"
        join-on: "updatedBy"
      - table: "emails"
        subattribute: "fieldMerges"
        join-on: "createdBy"
      - table: "emails"
        subattribute: "fieldMerges"
        join-on: "updatedBy"
      - table: "emails"
        subattribute: "forms"
        join-on: "createdBy"
      - table: "emails"
        subattribute: "forms"
        join-on: "updatedBy"
      - table: "emails"
        subattribute: "forms.elements"
        join-on: "createdBy"
      - table: "emails"
        subattribute: "forms.elements"
        join-on: "updatedBy"
      - table: "emails"
        subattribute: "hyperlinks"
        join-on: "createdBy"
      - table: "emails"
        subattribute: "hyperlinks"
        join-on: "updatedBy"
      - table: "emails"
        subattribute: "images"
        join-on: "createdBy"
      - table: "emails"
        subattribute: "images"
        join-on: "updatedBy"
      - table: "emails"
        join-on: "updatedBy"

  - id: "visitor-id"
    table: "visitors"
    attribute: "VisitorId"
    all-foreign-keys:
      - table: "activity_email_clickthrough"
      - table: "activity_email_open"
      - table: "activity_form_submit"
      - table: "activity_page_view"
      - table: "visitors"
        join-on: "id"
---
# ------------------------------- #
#  FILE SYSTEM FILE REQUIREMENTS  #
# ------------------------------- #

## This file contains info about what Stitch supports for
## files replicated through a file system-based integration.

## Ex: Amazon S3 CSV, SFTP, etc.

file-types: &file-types |
  - CSV (`.csv`)
  - Text (`.txt`)
  - gzip (`.gz`)

compression-types: &compression-types "None"

delimiters: &delimiters |
  - Comma (`,`)
  - Tab (`/t`)
  - Pipe (`|`)

encodings: &encodings |
  UTF-8



attributes:
  - name: "File types"
    all: |
      - CSV (`.csv`)
      - Text (`.txt`)

  - name: "Compression types"
    amazon-s3-csv: "None"
    sftp: |
      These files must be correctly compressed or errors will surface during Extraction.

      - gzip compressed archive (`.gz`)
      - zip compressed archive (`.zip`)

  - name: "Delimiters"
    all: *delimiters

  - name: "Character encoding"
    all: *encodings


# ------------------------------- #
#          SUPPORT TABLE          #
# ------------------------------- #

## Re-usable code for displaying file requirements for
## and an integration.

support-table: |
  {% assign integration-name = integration.name %}

  <table class="attribute-list">
  {% for requirement in site.data.taps.extraction.file-systems.file-requirements.attributes %}
  <tr>
  <td class="attribute-name">
  <strong>{{ requirement.name }}</strong>
  </td>
  <td>
  {% if requirement[integration-name] %}
  {{ requirement[integration-name] | flatify | markdownify }}
  {% else %}
  {{ requirement.all | flatify | markdownify }}
  {% endif %}
  </td>
  </tr>
  {% endfor %}
  </table>
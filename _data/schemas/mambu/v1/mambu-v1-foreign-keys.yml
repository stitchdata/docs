tap: mambu
version: '1'
keys:
  branches_encoded_key:
  - table: branches
    keys:
    - encoded_key
  - table: centres
    keys:
    - assigned_branch_key
  - table: deposit_transactions
    keys:
    - branch_key
  - table: groups
    keys:
    - assigned_branch_key
  - table: loan_accounts
    keys:
    - assigned_branch_key
  - table: loan_transactions
    keys:
    - branch_key
  - table: users
    keys:
    - access.managed_branches.branch_key
  centres_encoded_key:
  - table: centres
    keys:
    - encoded_key
  - table: clients
    keys:
    - assigned_centre_key
  - table: deposit_transactions
    keys:
    - centre_key
  - table: groups
    keys:
    - assigned_centre_key
  - table: loan_accounts
    keys:
    - assigned_centre_key
  - table: loan_transactions
    keys:
    - centre_key
  clients_encoded_key:
  - table: communications
    keys:
    - client_key
  - table: groups
    keys:
    - group_members.clientKey
  communications_encoded_key:
  - table: communications
    keys:
    - encoded_key
  credit_arrangements_encoded_key:
  - table: credit_arrangements
    keys:
    - encoded_key
  - table: deposit_accounts
    keys:
    - credit_arrangement_key
  - table: loan_accounts
    keys:
    - credit_arrangement_key
  custom_field_sets_custom_field_set_id:
  - table: branches
    keys:
    - custom_field_sets.custom_field_set_id
  - table: centres
    keys:
    - custom_field_sets.custom_field_set_id
  - table: clients
    keys:
    - custom_field_sets.custom_field_set_id
  - table: credit_arrangements
    keys:
    - custom_field_sets.custom_field_set_id
  - table: communications
    keys:
    - custom_field_sets.custom_field_set_id
  - table: deposit_accounts
    keys:
    - custom_field_sets.custom_field_set_id
  - table: deposit_transactions
    keys:
    - custom_field_sets.custom_field_set_id
  - table: groups
    keys:
    - custom_field_sets.custom_field_set_id
  - table: loan_accounts
    keys:
    - custom_field_sets.custom_field_set_id
  - table: loan_transactions
    keys:
    - custom_field_sets.custom_field_set_id
  - table: tasks
    keys:
    - custom_field_sets.custom_field_set_id
  - table: users
    keys:
    - custom_field_sets.custom_field_set_id
  custom_field_sets_custom_field_id:
  - table: branches
    keys:
    - custom_field_sets.custom_field_values.custom_field_id
  - table: centres
    keys:
    - custom_field_sets.custom_field_values.custom_field_id
  - table: clients
    keys:
    - custom_field_sets.custom_field_values.custom_field_id
  - table: communications
    keys:
    - custom_field_sets.custom_field_values.custom_field_id
  - table: credit_arrangements
    keys:
    - custom_field_sets.custom_field_values.custom_field_id
  - table: custom_field_sets
    keys:
    - custom_fields.id
  - table: deposit_accounts
    keys:
    - custom_field_sets.custom_field_values.custom_field_id
  - table: deposit_transactions
    keys:
    - custom_field_sets.custom_field_values.custom_field_id
  - table: groups
    keys:
    - custom_field_sets.custom_field_values.custom_field_id
  - table: loan_accounts
    keys:
    - custom_field_sets.custom_field_values.custom_field_id
  - table: loan_transactions
    keys:
    - custom_field_sets.custom_field_values.custom_field_id
  - table: tasks
    keys:
    - custom_field_sets.custom_field_values.custom_field_id
  - table: users
    keys:
    - custom_field_sets.custom_field_values.custom_field_id
  deposit_accounts_encoded_key:
  - table: communications
    keys:
    - deposit_account_key
  deposit_products_id:
  - table: deposit_products
    keys:
    - id
  groups_encoded_key:
  - table: communications
    keys:
    - group_key
  deposit_transactions_linked_deposit_transaction_key:
  - table: deposit_transactions
    keys:
    - transfer_details.linked_deposit_transaction_key
  - table: loan_transactions
    keys:
    - transfer_details.linked_deposit_transaction_key
  loan_transactions_linked_loan_transaction_key:
  - table: deposit_transactions
    keys:
    - linked_loan_transaction_key
  - table: loan_transactions
    keys:
    - linked_loan_transaction_key
  loan_accounts_encoded_key:
  - table: communications
    keys:
    - loan_account_key
  loan_transactions_encoded_key:
  - table: loan_transactions
    keys:
    - encoded_key
  loan_transactions_parent_loan_transaction_key:
  - table: loan_transactions
    keys:
    - parent_loan_transaction_key
  users_encoded_key:
  - table: clients
    keys:
    - assigned_user_key
  - table: communications
    keys:
    - user_key
    - sender_key
  - table: deposit_transactions
    keys:
    - user_key
  - table: groups
    keys:
    - assigned_user_key
  - table: loan_accounts
    keys:
    - assigned_user_key
  - table: loan_transactions
    keys:
    - user_key
  - table: tasks
    keys:
    - created_by_user_key
    - assigned_user_key

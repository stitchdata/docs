---
tap-reference: "zuora"

version: "1.0"

foreign-keys:
  - id: "account-id"
    attribute: "accountId"
    table: "account"
    all-foreign-keys:
      - table: "account"
        join-on: "id"
      - table: "contactSnapshot"
      - table: "invoice"
      - table: "payment"
      - table: "refund"
      - table: "subscription"

  - id: "accounting-code-id"
    attribute: "accountingCode"
    table: "accountingCode"
    all-foreign-keys:
      - table: "accountingCode"
        join-on: "id"
      - table: "creditBalanceAdjustment"
      - table: "invoiceItem"
      - table: "invoiceItemAdjustment"
      - table: "productRatePlanCharge"

  - id: "accounting-period-id"
    attribute: "accountingPeriodId"
    table: "accountingPeriod"
    all-foreign-keys:
      - table: "accountingPeriod"
        join-on: "id"
      - table: "creditBalanceAdjustment"
      - table: "invoiceItemAdjustment"
      - table: "journalEntry"
      - table: "revenueChargeSummaryItem"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItem"
      - table: "revenueScheduleItemInvoiceItem"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "account-receivable-accounting-code-id"
    attribute: "accountReceivableAccountingCodeId"
    table: "accountingCode"
    all-foreign-keys:
      - table: "accountingCode"
        join-on: "id"
      - table: "creditBalanceAdjustment"
      - table: "invoiceItemAdjustment"

  - id: "amendment-id"
    attribute: "amendmentId"
    table: "amendment"
    all-foreign-keys:
      - table: "amendment"
        join-on: "id"
      - table: "discountAppliedMetrics"
      - table: "invoiceItemAdjustment"
      - table: "processedUsage"
      - table: "ratePlan"
      - table: "ratePlanChargeTier"
      - table: "revenueChargeSummaryItem"
      - table: "revenueEventItem"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItem"
      - table: "revenueScheduleItemInvoiceItem"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "billing-run-id"
    attribute: "billingRunId"
    table: "billingRun"
    all-foreign-keys:
      - table: "billingRun"
        join-on: "id"
      - table: "paymentRun"

  - id: "bill-to-contact-id"
    attribute: "billToContactId"
    table: "contact"
    all-foreign-keys:
      - table: "account"
      - table: "contact"
        join-on: "id"
      - table: "contactSnapshot"
        join-on: "contactId"
      - table: "creditBalanceAdjustment"
      - table: "discountAppliedMetrics"
      - table: "invoice"
      - table: "invoiceItemAdjustment"
      - table: "processedUsage"
      - table: "ratePlan"
      - table: "refund"
      - table: "revenueChargeSummaryItem"
      - table: "revenueEventItem"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItem"
      - table: "revenueScheduleItemInvoiceItem"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "bill-to-contact-snapshot-id"
    attribute: "billToContactSnapshotId"
    table: "contactSnapshot"
    all-foreign-keys:
      - table: "contactSnapshot"
        join-on: "contactId"
      - table: "invoice"

  - id: "cash-on-account-accounting-code-id"
    attribute: "cashOnAccountAccountingCodeId"
    table: "accountingCode"
    all-foreign-keys:
      - table: "accountingCode"
        join-on: "id"
      - table: "creditBalanceAdjustment"

  - id: "contact-id"
    attribute: "contactId"
    table: "contact"
    all-foreign-keys:
      - table: "account"
        join-on: "billToContactId"
      - table: "account"
        join-on: "soldToContactId"
      - table: "contact"
        join-on: "id"
      - table: "contactSnapshot"
        join-on: "contactId"
      - table: "creditBalanceAdjustment"
        join-on: "billToContactId"
      - table: "creditBalanceAdjustment"
        join-on: "soldToContactId"
      - table: "discountAppliedMetrics"
        join-on: "billToContactId"
      - table: "discountAppliedMetrics"
        join-on: "soldToContactId"
      - table: "invoice"
        join-on: "billToContactId"
      - table: "invoice"
        join-on: "soldToContactId"
      - table: "invoiceItemAdjustment"
        join-on: "billToContactId"
      - table: "invoiceItemAdjustment"
        join-on: "soldToContactId"
      - table: "processedUsage"
        join-on: "billToContactId"
      - table: "processedUsage"
        join-on: "soldToContactId"
      - table: "ratePlan"
        join-on: "billToContactId"
      - table: "ratePlan"
        join-on: "soldToContactId"
      - table: "refund"
        join-on: "billToContactId"
      - table: "refund"
        join-on: "soldToContactId"
      - table: "revenueChargeSummaryItem"
        join-on: "billToContactId"
      - table: "revenueChargeSummaryItem"
        join-on: "soldToContactId"
      - table: "revenueEventItem"
        join-on: "billToContactId"
      - table: "revenueEventItem"
        join-on: "soldToContactId"
      - table: "revenueEventItemInvoiceItem"
        join-on: "billToContactId"
      - table: "revenueEventItemInvoiceItem"
        join-on: "soldToContactId"
      - table: "revenueEventItemInvoiceItemAdjustment"
        join-on: "billToContactId"
      - table: "revenueEventItemInvoiceItemAdjustment"
        join-on: "soldToContactId"
      - table: "revenueScheduleItem"
        join-on: "billToContactId"
      - table: "revenueScheduleItem"
        join-on: "soldToContactId"
      - table: "revenueScheduleItemInvoiceItem"
        join-on: "billToContactId"
      - table: "revenueScheduleItemInvoiceItem"
        join-on: "soldToContactId"
      - table: "revenueScheduleItemInvoiceItemAdjustment"
        join-on: "billToContactId"
      - table: "revenueScheduleItemInvoiceItemAdjustment"
        join-on: "soldToContactId"

  - id: "contact-snapshot-id"
    attribute: "contactSnapshotId"
    table: "contactSnapshot"
    all-foreign-keys:
      - table: "contactSnapshot"
        join-on: "contactId"
      - table: "invoice"
        join-on: "billToContactSnapshotId"
      - table: "invoice"
        join-on: "soldToContactSnapshotId"

  - id: "communication-profile-id"
    attribute: "communicationProfileId"
    table: "communicationProfile"
    all-foreign-keys:
      - table: "communicationProfile"
        join-on: "id"
      - table: "account"

  - attribute: "creatorInvoiceOwnerId"
    table: "account"
    all-foreign-keys:
      - table: "account"

  - id: "default-payment-method-id"
    attribute: "defaultPaymentMethodId"
    table: "paymentMethod"
    all-foreign-keys:
      - table: "paymentMethod"
        join-on: "id"
      - table: "account"
      - table: "invoice"

  - id: "deferred-revenue-accounting-code-id"
    attribute: "deferredRevenueAccountingCodeId"
    table: "accountingCode"
    all-foreign-keys:
      - table: "account"
        join-on: "id"
      - table: "revenueEventItem"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItem"
      - table: "revenueScheduleItemInvoiceItem"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "discount-rate-plan-charge-id"
    attribute: "discountRatePlanChargeId"
    table: "ratePlanCharge"
    all-foreign-keys:
      - table: "ratePlanCharge"
        join-on: "id"
      - table: "discountAppliedMetrics"

  - id: "invoice-id"
    attribute: "invoiceId"
    table: "invoice"
    all-foreign-keys:
      - table: "invoice"
        join-on: "id"
      - table: "creditBalanceAdjustment"
        join-on: "invoiceId"
      - table: "creditBalanceAdjustment"
        join-on: "sourceTransactionId"

  - id: "invoice-item-adjustment"
    attribute: "invoiceItemAdjustmentId"
    table: "invoiceItemAdjustment"
    all-foreign-keys:
      - table: "invoiceItemAdjustment"
        join-on: "id"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "invoice-number"
    attribute: "invoiceNumber"
    table: "invoice"
    all-foreign-keys:
      - table: "invoice"
      - table: "creditBalanceAdjustment"
      - table: "creditBalanceAdjustment"
        join-on: "sourceTransactionNumber"

  - id: "invoice-owner-id"
    attribute: "invoiceOwnerId"
    table: "account"
    all-foreign-keys:
      - table: "account"

  - id: "invoice-item-id"
    attribute: "invoiceItemId"
    table: "invoiceItem"
    all-foreign-keys:
      - table: "invoiceItem"
        join-on: "id"
      - table: "processedUsage"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItemInvoiceItem"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "journal-entry-id"
    attribute: "journalEntryId"
    table: "journalEntry"
    all-foreign-keys:
      - table: "journalEntry"
        join-on: "id"
      - table: "creditBalanceAdjustment"
      - table: "invoiceItemAdjustment"
      - table: "journalEntryItem"
      - table: "revenueEventItem"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"

  - id: "journal-run-id"
    attribute: "journalRunId"
    table: "journalRun"
    all-foreign-keys:
      - table: "journalRun"
        join-on: "id"
      - table: "creditBalanceAdjustment"
      - table: "invoiceItemAdjustment"
      - table: "journalEntryItem"
      - table: "revenueEventItem"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"

  - id: "parent-account-id"
    attribute: "parentAccountId"
    table: "account"
    all-foreign-keys:
      - table: "account"
      - table: "creditBalanceAdjustment"
      - table: "discountAppliedMetrics"
      - table: "invoice"
      - table: "invoiceItemAdjustment"
      - table: "processedUsage"
      - table: "refund"
      - table: "revenueChargeSummaryItem"
      - table: "revenueEventItem"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItem"
      - table: "revenueScheduleItemInvoiceItem"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "payment-id"
    attribute: "paymentId"
    table: "payment"
    all-foreign-keys:
      - table: "payment"
        join-on: "id"
      - table: "creditBalanceAdjustment"
      - table: "creditBalanceAdjustment"
        join-on: "sourceTransactionId"

  - id: "payment-method-id"
    attribute: "paymentMethodId"
    table: "paymentMethod"
    all-foreign-keys:
      - table: "paymentMethod"
        join-on: "id"
      - table: "creditBalanceAdjustment"
      - table: "payment"
      - table: "refund"

  - id: "payment-run-id"
    attribute: "paymentRunId"
    table: "paymentRun"
    all-foreign-keys:
      - table: "paymentRun"

  - id: "payment-method-snapshot-id"
    attribute: "paymentMethodSnapshotId"
    table: "paymentMethodSnapshot"
    all-foreign-keys:
      - table: "paymentMethodSnapshot"
        join-on: "id"
      - table: "creditBalanceAdjustment"
      - table: "payment"
      - table: "refund"

  - id: "product-id"
    attribute: "productId"
    table: "product"
    all-foreign-keys: 
      - table: "product"
        join-on: "id"
      - table: "discountAppliedMetrics"
      - table: "invoiceItem"
      - table: "invoiceItemAdjustment"
      - table: "processedUsage"
      - table: "productRatePlan"
      - table: "revenueChargeSummaryItem"
      - table: "revenueEventItem"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItem"
      - table: "revenueScheduleItemInvoiceItem"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "product-rate-plan-charge-id"
    attribute: "productRatePlanChargeId"
    table: "productRatePlanCharge"
    all-foreign-keys:
      - table: "productRatePlanCharge"
        join-on: "id"
      - table: "discountAppliedMetrics"
      - table: "invoiceItem"
      - table: "invoiceItemAdjustment"
      - table: "processedUsage"
      - table: "productRatePlanChargeTier"
      - table: "revenueChargeSummaryItem"
      - table: "revenueEventItem"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItem"
      - table: "revenueScheduleItemInvoiceItem"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "product-rate-plan-id"
    attribute: "productRatePlanId"
    table: "productRatePlan"
    all-foreign-keys:
      - table: "productRatePlan"
        join-on: "id"
      - table: "discountAppliedMetrics"
      - table: "processedUsage"
      - table: "productRatePlanCharge"
      - table: "productRatePlanChargeTier"
      - table: "ratePlan"
      - table: "ratePlanChargeTier"
      - table: "revenueChargeSummaryItem"
      - table: "revenueEventItem"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItem"
      - table: "revenueScheduleItemInvoiceItem"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "rate-plan-charge-id"
    attribute: "ratePlanChargeId"
    table: "ratePlanCharge"
    all-foreign-keys:
      - table: "ratePlanCharge"
        join-on: "id"
      - table: "discountAppliedMetrics"
      - table: "invoiceItem"
      - table: "invoiceItemAdjustment"
      - table: "processedUsage"
      - table: "productRatePlanChargeTier"
      - table: "ratePlanChargeTier"
      - table: "revenueChargeSummaryItem"
      - table: "revenueEventItem"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItem"
      - table: "revenueScheduleItemInvoiceItem"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "rate-plan-id"
    attribute: "ratePlanId"
    table: "ratePlan"
    all-foreign-keys:
      - table: "ratePlan"
        join-on: "id"
      - table: "discountAppliedMetrics"
      - table: "invoiceItem"
      - table: "invoiceItemAdjustment"
      - table: "processedUsage"
      - table: "productRatePlanChargeTier"
      - table: "ratePlanChargeTier"
      - table: "revenueChargeSummaryItem"
      - table: "revenueEventItem"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItem"
      - table: "revenueScheduleItemInvoiceItem"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "recognized-revenue-accounting-code-id"
    attribute: "recognizedRevenueAccountingCodeId"
    table: "accountingCode"
    all-foreign-keys:
      - table: "accountingCode"
        join-on: "id"
      - table: "invoiceItemAdjustment"
      - table: "revenueEventItem"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItem"
      - table: "revenueScheduleItemInvoiceItem"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "refund-id"
    attribute: "refundId"
    table: "refund"
    all-foreign-keys:
      - table: "refund"
        join-on: "id"
      - table: "creditBalanceAdjustment"
      - table: "creditBalanceAdjustment"
        join-on: "sourceTransactionId"

  - id: "revenue-charge-summary-id"
    attribute: "revenueChargeSummaryId"
    table: "revenueChargeSummary"
    all-foreign-keys:
      - table: "revenueChargeSummaryItem"
      - table: "revenueEventItem"
      - table: "RevenutEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItem"
      - table: "revenueScheduleItemInvoiceItem"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "revenue-event-type-id"
    attribute: "revenueEventTypeId"
    table: "revenueEventType"
    all-foreign-keys:
      - table: "revenueEventType"
        join-on: "id"

  - id: "revenue-schedule-invoice-item-id"
    attribute: "revenueScheduleInvoiceItemId"
    table: "revenueScheduleInvoiceItem"
    all-foreign-keys:
      - table: "revenueScheduleInvoiceItem"
        join-on: "id"

  - id: "sales-tax-payable-accounting-code-id"
    attribute: "salesTaxPayableAccountingCodeId"
    table: "accountingCode"
    all-foreign-keys:
      - table: "accountingCode"
        join-on: "id"
      - table: "invoiceItemAdjustment"

  - id: "sold-to-contact-id"
    attribute: "soldToContactId"
    table: "contact"
    all-foreign-keys:
      - table: "account"
      - table: "contact"
        join-on: "id"
      - table: "contactSnapshot"
        join-on: "contactId"
      - table: "creditBalanceAdjustment"
      - table: "discountAppliedMetrics"
      - table: "invoice"
      - table: "invoiceItemAdjustment"
      - table: "processedUsage"
      - table: "ratePlan"
      - table: "refund"
      - table: "revenueChargeSummaryItem"
      - table: "revenueEventItem"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItem"
      - table: "revenueScheduleItemInvoiceItem"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "sold-to-contact-snapshot-id"
    attribute: "soldToContactSnapshotId"
    table: "contactSnapshot"
    all-foreign-keys:
      - table: "contactSnapshot"
        join-on: "contactId"
      - table: "invoice"

  - id: "source-transaction-id"
    attribute: "sourceTransactionId"
    table: "creditBalanceAdjustment"
    all-foreign-keys:
      - table: "invoice"
        join-on: "id"
      - table: "payment"
        join-on: "id"
      - table: "refund"
        join-on: "id"

  - id: "source-transaction-number"
    attribute: "sourceTransactionNumber"
    table: "creditBalanceAdjustment"
    all-foreign-keys:
      - table: "invoice"
        join-on: "invoiceNumber"
      - table: "payment"
        join-on: "number"
      - table: "refund"
        join-on: "number"

  - id: "subscription-id"
    attribute: "subscriptionId"
    table: "subscription"
    all-foreign-keys:
      - table: "subscription"
        join-on: "id"
      - table: "amendment"
      - table: "discountAppliedMetrics"
      - table: "invoiceItem"
      - table: "invoiceItemAdjustment"
      - table: "ratePlan"
      - table: "ratePlanChargeTier"
      - table: "revenueChargeSummaryItem"
      - table: "revenueEventItem"
      - table: "revenueEventItemInvoiceItem"
      - table: "revenueEventItemInvoiceItemAdjustment"
      - table: "revenueScheduleItemInvoiceItemAdjustment"

  - id: "taxation-id"
    attribute: "taxationId"
    table: ""
    join-on: "id"

  - id: "usage-id"
    attribute: "usageId"
    table: "usage"
    join-on: "id"
---